



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://joostvdg.github.io/jenkinsx-workshop-demos/tips/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Tips - Jay's Jenkins X Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
      <script src="../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#tips-tricks" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://joostvdg.github.io/jenkinsx-workshop-demos" title="Jay's Jenkins X Workshop" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Jay's Jenkins X Workshop
              </span>
              <span class="md-header-nav__topic">
                Tips
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/joostvdg/jenkinsx-workshop-demos/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      joostvdg/jenkinsx-workshop-demos
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://joostvdg.github.io/jenkinsx-workshop-demos" title="Jay's Jenkins X Workshop" class="md-nav__button md-logo">
      
        <img src="../images/logo.svg" width="48" height="48">
      
    </a>
    Jay's Jenkins X Workshop
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/joostvdg/jenkinsx-workshop-demos/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      joostvdg/jenkinsx-workshop-demos
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../go-demo/" title="Quickstart Demo" class="md-nav__link">
      Quickstart Demo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      BuildPack Demo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        BuildPack Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../buildpack/import/" title="Import" class="md-nav__link">
      Import
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildpack/" title="BuildPack" class="md-nav__link">
      BuildPack
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      X-Files Demo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        X-Files Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../xfiles/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xfiles/mulder/" title="Mulder" class="md-nav__link">
      Mulder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xfiles/scully/" title="Scully" class="md-nav__link">
      Scully
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xfiles/integration/" title="Integration" class="md-nav__link">
      Integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      JX Commands & Tips
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        JX Commands & Tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="commands/" title="Command Overview" class="md-nav__link">
      Command Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Tips
      </label>
    
    <a href="./" title="Tips" class="md-nav__link md-nav__link--active">
      Tips
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#multiple-micro-services" title="Multiple Micro-services" class="md-nav__link">
    Multiple Micro-services
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="gitops/" title="GitOps" class="md-nav__link">
      GitOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="vault/" title="Vault" class="md-nav__link">
      Vault
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      JX Serverless
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        JX Serverless
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../serverless/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Other JX Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Other JX Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../other/custom-domain/" title="Custom Domain" class="md-nav__link">
      Custom Domain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../other/cluster-validation/" title="Cluster Validation" class="md-nav__link">
      Cluster Validation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../other/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../other/issue-trackers/" title="Issue Trackers" class="md-nav__link">
      Issue Trackers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../other/alt-git-repo/" title="Alt Git Repo" class="md-nav__link">
      Alt Git Repo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Kubernetes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../k8s/" title="Basics" class="md-nav__link">
      Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../k8s/tools/" title="Tools" class="md-nav__link">
      Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../k8s/helm/" title="Helm" class="md-nav__link">
      Helm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../k8s/create-cluster/" title="Create Cluster" class="md-nav__link">
      Create Cluster
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Kubernetes Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Kubernetes Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../k8s/knative-build/" title="Knative Build" class="md-nav__link">
      Knative Build
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#multiple-micro-services" title="Multiple Micro-services" class="md-nav__link">
    Multiple Micro-services
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/joostvdg/jenkinsx-workshop-demos/edit/master/docs/tips/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="tips-tricks">Tips &amp; Tricks<a class="headerlink" href="#tips-tricks" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="https://github.com/jenkinsci/kubernetes-credentials-provider-plugin">https://github.com/jenkinsci/kubernetes-credentials-provider-plugin</a></li>
<li>volume storage with Heptio's Valerio</li>
<li>debugging: <a href="https://jenkins-x.io/contribute/development/#debugging">https://jenkins-x.io/contribute/development/#debugging</a></li>
<li><code>--gitops</code> mode &larr; have to check this</li>
<li><code>jx upgrade platform</code></li>
<li><a href="https://github.com/knative/docs/blob/master/build/auth.md#basic-authentication-git">knative authentication</a></li>
<li><code>--git-username</code> &amp; <code>--org</code> are complimentary, <code>--organisations</code> is unrelated<ul>
<li>username = the user for the repo's (apps &amp; env)</li>
<li>org = the organization for the repo's (apps &amp; env)</li>
<li>e.g.: <code>--git-username joostvdg --org demomon</code></li>
<li><code>--organisations</code> is used to query GitHub for Quickstarts (no need to specify unless you have alternatives)</li>
</ul>
</li>
<li>Jenkins configurations do not persist<ul>
<li>you can specify them in a ConfigMap though</li>
<li><a href="https://github.com/jenkins-x/charts/blob/jenkins/stable/jenkins/templates/config.yaml#L8">https://github.com/jenkins-x/charts/blob/jenkins/stable/jenkins/templates/config.yaml#L8</a></li>
</ul>
</li>
<li>credentials used for config can be found here: <code>~/.jx/jenkinsAuth.yam</code></li>
<li>PodTemplates (static Jenkins) are from the <a href="https://github.com/jenkinsci/kubernetes-plugin">Jenkins Kubernetes Plugin</a></li>
<li>cleanup GKE <code>jx gc gke</code></li>
<li>you can create separate teams with <code>--no-tiller</code> even if the installation was done with Tiller</li>
<li><code>jx init</code> to "fix" a outdated <code>~/.jx</code> folder</li>
<li><a href="https://jenkins-x.io/commands/jx_step_credential/">https://jenkins-x.io/commands/jx_step_credential/</a></li>
<li>don't do mono repo's<ul>
<li>why? -&gt; <a href="https://medium.com/@mattklein123/monorepos-please-dont-e9a279be011b">https://medium.com/@mattklein123/monorepos-please-dont-e9a279be011b</a></li>
<li>but if you do, <a href="https://fuchsia.googlesource.com/jiri/">https://fuchsia.googlesource.com/jiri/</a></li>
</ul>
</li>
<li>using a different git provider<ul>
<li>--git-provider-url .... --git-provider-kind bitbucketserver --git-username foo --git-api-token whatever</li>
<li><a href="https://jenkins-x.io/developing/git/#using-a-different-git-provider-for-environments">https://jenkins-x.io/developing/git/#using-a-different-git-provider-for-environments</a></li>
</ul>
</li>
<li><code>jx start pipeline</code> to manually trigger a pipeline (I assume static Jenkins only)</li>
<li>enable GCS for chartmuseum backend<ul>
<li><a href="https://github.com/jenkins-x/cloud-environments/blob/master/env-jx-infra/myvalues.yaml#L10-L17">https://github.com/jenkins-x/cloud-environments/blob/master/env-jx-infra/myvalues.yaml#L10-L17</a></li>
</ul>
</li>
<li><code>jx</code> wraps <code>kubectx</code> tool, so you can use <code>jx ns &lt;namespace&gt;</code> to change your context to a different namespace</li>
<li>faq for diagnosing <code>exposecontroller</code> issues:<ul>
<li><a href="https://jenkins-x.io/faq/issues/#how-can-i-diagnose-exposecontroller-issues">https://jenkins-x.io/faq/issues/#how-can-i-diagnose-exposecontroller-issues</a></li>
<li>controller is used to generate ingress resources</li>
</ul>
</li>
<li><a href="https://github.com/lvlstudio/jenkins-x-builders/tree/master/builder-nodejs-mysql">https://github.com/lvlstudio/jenkins-x-builders/tree/master/builder-nodejs-mysql</a></li>
<li><a href="https://github.com/jenkins-x/jx/issues/2550">https://github.com/jenkins-x/jx/issues/2550</a></li>
<li><a href="https://github.com/jenkins-x/jenkins-x-platform/issues/4768">https://github.com/jenkins-x/jenkins-x-platform/issues/4768</a></li>
<li>Tillerless: <a href="https://jenkins-x.io/news/helm-without-tiller/">https://jenkins-x.io/news/helm-without-tiller/</a></li>
<li>difference between <code>jx create quickstart</code> and selecting spring vs. <code>jx create spring</code><ul>
<li><code>jx create spring</code> is an interactive wizard that uses the spring initialiser <a href="https://start.spring.io/">https://start.spring.io/</a></li>
<li><code>jx create quickstart</code> uses a configurable github org to list available existing quickstarts i.e. <a href="https://github.com/jenkins-x-quickstarts">https://github.com/jenkins-x-quickstarts</a> (edited)</li>
</ul>
</li>
<li>multi-cluster support: <ul>
<li><a href="https://github.com/jenkins-x-charts/environment-controller">https://github.com/jenkins-x-charts/environment-controller</a></li>
<li><a href="https://github.com/jenkins-x/jx/issues/479">https://github.com/jenkins-x/jx/issues/479</a></li>
</ul>
</li>
<li><code>jx create user</code>?</li>
<li><a href="https://jenkins-x.io/commands/jx_create_jenkins_token/">https://jenkins-x.io/commands/jx_create_jenkins_token/</a></li>
<li>for problems with wild card certificates doing only one segment (i.e., <code>*.example.com</code> instead of <code>*.*.example.com</code>)<ul>
<li>no - we can tweak that. It’s easiest with wildcard - then any exposed service at <code>svc.ns.domain</code> just works - but you could register each namespace in DNS</li>
<li>we’ve not exposed that property to the <code>jx install</code> CLI yet - but you could try <code>kubectl edit cm ingress-config</code></li>
<li><code>urltemplate: &quot;{{.Service}}-{{.Namespace}}.{{.Domain}}&quot;</code></li>
<li>and then <code>jx upgrade ingress</code></li>
<li>doesn't seem to work yet? (customization gets reverted)</li>
<li>alternative, add dns entries to the ingress resources</li>
<li><a href="https://jenkins-x.io/getting-started/install-on-cluster/#installing-jenkins-x-on-premise">https://jenkins-x.io/getting-started/install-on-cluster/#installing-jenkins-x-on-premise</a></li>
</ul>
</li>
<li>Helm tips &amp; tricks for changing secrets<ul>
<li><a href="https://github.com/helm/helm/blob/master/docs/charts_tips_and_tricks.md#user-content-automatically-roll-deployments-when-configmaps-or-secrets-change">https://github.com/helm/helm/blob/master/docs/charts_tips_and_tricks.md#user-content-automatically-roll-deployments-when-configmaps-or-secrets-change</a></li>
</ul>
</li>
<li>how to run integration tests<ul>
<li>I've answered this in a previous thread. Basically you use the helm chart (which includes the service dependencies as requirements). You create a preview but set the replicaCount for your service to 0 (that way, just the requirements are started). Then just run your tests against the requirements and delete the preview afterwards. Search the channel history for my messages and replicaCount. You should find it.</li>
<li><a href="https://jenkins-x.io/faq/develop/#how-do-i-add-other-services-into-a-preview">https://jenkins-x.io/faq/develop/#how-do-i-add-other-services-into-a-preview</a></li>
</ul>
</li>
<li>managing static jenkins config has some issues<ul>
<li><a href="https://github.com/jenkins-x/jx/issues/2991">https://github.com/jenkins-x/jx/issues/2991</a></li>
<li><a href="https://github.com/jenkins-x/jx-docs/issues/1039">https://github.com/jenkins-x/jx-docs/issues/1039</a></li>
<li><a href="https://github.com/helm/charts/pull/9296/files">https://github.com/helm/charts/pull/9296/files</a></li>
</ul>
</li>
</ul>
<blockquote>
<p>we’re super close from recommending folks use <code>jx create cluster ... --vault --gitops</code>  which uses a git repository to store all the configuration changes + versions of stuff - and uses Vault to store all secrets</p>
<p>we just merged the last few fixes so it should work for static jenkins servers with the latest <code>jx</code> binary - feb 7</p>
</blockquote>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>It is Ready: <code>jx create cluster gke --vault --gitops --no-tiller</code></p>
</div>
<h2 id="multiple-micro-services">Multiple Micro-services<a class="headerlink" href="#multiple-micro-services" title="Permanent link">&para;</a></h2>
<blockquote>
<p>if 1 microservice was 1 helm chart with a few different containers for example; you may have a few repos that just make binaries/docker images - then 1 repo which contains the helm chart of the microservice - you can also easily combine microservices together into an uber helm chart - James Strachan</p>
<p>we prefer to use multiple repositories so that things are more microservice based. The problem with monorepos is everything gets released on every change; with separate repos its easier to manage change etc</p>
<p>to handle changing versions of things across repositories we use <code>updatebot</code> ourselves to do ‘CI/CD of dependencies’ - we kinda think of it as promotion of dependencies like we promote microservices into environments - its PRs generated as part of the release process</p>
<p>the main decision to make really is, , if you have, say, 3 microservices that are fairly tightly coupled; do you combine 3 versions of them all into 1 chart and then release that 1 chart when its all tested together; or do you release the 3 things totally independently - it depeends on coupling and team structure really &amp; you can switch from one to the other at any time really</p>
</blockquote>
<ul>
<li><a href="https://github.com/jenkins-x/updatebot">https://github.com/jenkins-x/updatebot</a></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Setup:</span>
$ jx create cluster gke -n team1 --default-environment-prefix team1 
$ jx create quickstart -p app1
$ jx create quickstart -p app2
$ jx create quickstart -p app3

<span class="c1"># The 5 repos:</span>
environment-team1-staging
environment-team1-production
app1
app2
app3
</pre></div>
</td></tr></table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="commands/" title="Command Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Command Overview
              </span>
            </div>
          </a>
        
        
          <a href="gitops/" title="GitOps" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                GitOps
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Joost van der Griendt
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/joostvdg" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/joost_vdg" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/joostvdg" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>