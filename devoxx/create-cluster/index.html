



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://joostvdg.github.io/jenkinsx-workshop-demos/devoxx/create-cluster/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Init - Jay's Jenkins X Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#create-cluster" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://joostvdg.github.io/jenkinsx-workshop-demos" title="Jay's Jenkins X Workshop" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Jay's Jenkins X Workshop
            </span>
            <span class="md-header-nav__topic">
              
                Init
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/joostvdg/jenkinsx-workshop-demos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    joostvdg/jenkinsx-workshop-demos
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://joostvdg.github.io/jenkinsx-workshop-demos" title="Jay's Jenkins X Workshop" class="md-nav__button md-logo">
      
        <img src="../../images/logo.svg" width="48" height="48">
      
    </a>
    Jay's Jenkins X Workshop
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/joostvdg/jenkinsx-workshop-demos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    joostvdg/jenkinsx-workshop-demos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../go-demo/" title="Quickstart Demo" class="md-nav__link">
      Quickstart Demo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      BuildPack Demo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        BuildPack Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../buildpack/import/" title="Import" class="md-nav__link">
      Import
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../buildpack/" title="BuildPack" class="md-nav__link">
      BuildPack
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      X-Files Demo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        X-Files Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../xfiles/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../xfiles/mulder/" title="Mulder" class="md-nav__link">
      Mulder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../xfiles/scully/" title="Scully" class="md-nav__link">
      Scully
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../xfiles/integration/" title="Integration" class="md-nav__link">
      Integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      JX Commands & Tips
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        JX Commands & Tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tips/commands/" title="Command Overview" class="md-nav__link">
      Command Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tips/" title="Tips" class="md-nav__link">
      Tips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tips/gitops/" title="GitOps" class="md-nav__link">
      GitOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tips/vault/" title="Vault" class="md-nav__link">
      Vault
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      JX Serverless
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        JX Serverless
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../serverless/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Devoxx
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Devoxx
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Init
      </label>
    
    <a href="./" title="Init" class="md-nav__link md-nav__link--active">
      Init
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terraform" class="md-nav__link">
    Terraform
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-kubeconfig" class="md-nav__link">
    Get Kubeconfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jx-boot" class="md-nav__link">
    JX Boot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jx-boot-cjxd" class="md-nav__link">
    JX Boot - CJXD
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-faillure" class="md-nav__link">
    Clone Faillure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helm-apply-issue" class="md-nav__link">
    Helm Apply Issue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-clouddns" class="md-nav__link">
    TLS - CloudDNS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-support-for-multiple-subdomains" class="md-nav__link">
    Add Support For Multiple Subdomains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imagepullbackup" class="md-nav__link">
    ImagePullBackup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-cjxd-ui" class="md-nav__link">
    Add CJXD UI
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unable-to-enable-dns-api" class="md-nav__link">
    Unable To Enable DNS API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reset-installation" class="md-nav__link">
    Reset Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-environment-repos" class="md-nav__link">
    Remove Environment Repos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-gcp-resources" class="md-nav__link">
    Clean GCP Resources
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disks" class="md-nav__link">
    Disks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buckets" class="md-nav__link">
    Buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#others" class="md-nav__link">
    Others?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-environment-information" class="md-nav__link">
    Clean Environment Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-local-data" class="md-nav__link">
    Clear Local Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recreate-git-token" class="md-nav__link">
    Recreate Git Token
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    Debug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tls-configuration" class="md-nav__link">
    TLS Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cert-manager" class="md-nav__link">
    Cert Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-dns-controller" class="md-nav__link">
    External DNS Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-resources" class="md-nav__link">
    Certificate Resources
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-new-environment" class="md-nav__link">
    Create new Environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-cloudbees-environment" class="md-nav__link">
    Create CloudBees Environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-resources" class="md-nav__link">
    Get Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-tls" class="md-nav__link">
    Configure TLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-cloud-dns-zone" class="md-nav__link">
    Create Cloud DNS Zone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-certificate-issuer" class="md-nav__link">
    Configure Certificate &amp; Issuer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-dns-secrets" class="md-nav__link">
    Configure DNS Secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confirm-certificate-works" class="md-nav__link">
    Confirm Certificate Works
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-cloudbees-core" class="md-nav__link">
    Add CloudBees Core
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cb-env" class="md-nav__link">
    cb env
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cb-source-repository" class="md-nav__link">
    cb source repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jx-requirements" class="md-nav__link">
    jx-requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-unique-dns" class="md-nav__link">
    TLS Unique DNS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jx-requirements_1" class="md-nav__link">
    jx-requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exdns-deployment-config" class="md-nav__link">
    exdns deployment config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certmanager-complaining-about-the-wrong-domain" class="md-nav__link">
    Certmanager complaining about the wrong domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../environment/" title="Environment" class="md-nav__link">
      Environment
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Preview Env
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Preview Env
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../preview/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preview/dependencies/" title="Dependencies" class="md-nav__link">
      Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preview/database/" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Other JX Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Other JX Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/custom-domain/" title="Custom Domain" class="md-nav__link">
      Custom Domain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/cluster-validation/" title="Cluster Validation" class="md-nav__link">
      Cluster Validation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/issue-trackers/" title="Issue Trackers" class="md-nav__link">
      Issue Trackers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/alt-git-repo/" title="Alt Git Repo" class="md-nav__link">
      Alt Git Repo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Kubernetes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/" title="Basics I" class="md-nav__link">
      Basics I
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/part2/" title="Basics II" class="md-nav__link">
      Basics II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/part3/" title="Basics III" class="md-nav__link">
      Basics III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/tools/" title="Tools" class="md-nav__link">
      Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/helm/" title="Helm" class="md-nav__link">
      Helm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/create-cluster/" title="Create Cluster" class="md-nav__link">
      Create Cluster
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Kubernetes Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Kubernetes Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../k8s/knative-build/" title="Knative Build" class="md-nav__link">
      Knative Build
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terraform" class="md-nav__link">
    Terraform
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-kubeconfig" class="md-nav__link">
    Get Kubeconfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jx-boot" class="md-nav__link">
    JX Boot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jx-boot-cjxd" class="md-nav__link">
    JX Boot - CJXD
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-faillure" class="md-nav__link">
    Clone Faillure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helm-apply-issue" class="md-nav__link">
    Helm Apply Issue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-clouddns" class="md-nav__link">
    TLS - CloudDNS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-support-for-multiple-subdomains" class="md-nav__link">
    Add Support For Multiple Subdomains
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imagepullbackup" class="md-nav__link">
    ImagePullBackup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-cjxd-ui" class="md-nav__link">
    Add CJXD UI
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unable-to-enable-dns-api" class="md-nav__link">
    Unable To Enable DNS API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reset-installation" class="md-nav__link">
    Reset Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-environment-repos" class="md-nav__link">
    Remove Environment Repos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-gcp-resources" class="md-nav__link">
    Clean GCP Resources
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disks" class="md-nav__link">
    Disks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buckets" class="md-nav__link">
    Buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#others" class="md-nav__link">
    Others?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-environment-information" class="md-nav__link">
    Clean Environment Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-local-data" class="md-nav__link">
    Clear Local Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recreate-git-token" class="md-nav__link">
    Recreate Git Token
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    Debug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tls-configuration" class="md-nav__link">
    TLS Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cert-manager" class="md-nav__link">
    Cert Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-dns-controller" class="md-nav__link">
    External DNS Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-resources" class="md-nav__link">
    Certificate Resources
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-new-environment" class="md-nav__link">
    Create new Environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-cloudbees-environment" class="md-nav__link">
    Create CloudBees Environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-resources" class="md-nav__link">
    Get Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-tls" class="md-nav__link">
    Configure TLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-cloud-dns-zone" class="md-nav__link">
    Create Cloud DNS Zone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-certificate-issuer" class="md-nav__link">
    Configure Certificate &amp; Issuer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-dns-secrets" class="md-nav__link">
    Configure DNS Secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confirm-certificate-works" class="md-nav__link">
    Confirm Certificate Works
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-cloudbees-core" class="md-nav__link">
    Add CloudBees Core
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cb-env" class="md-nav__link">
    cb env
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cb-source-repository" class="md-nav__link">
    cb source repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jx-requirements" class="md-nav__link">
    jx-requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tls-unique-dns" class="md-nav__link">
    TLS Unique DNS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jx-requirements_1" class="md-nav__link">
    jx-requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exdns-deployment-config" class="md-nav__link">
    exdns deployment config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certmanager-complaining-about-the-wrong-domain" class="md-nav__link">
    Certmanager complaining about the wrong domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/joostvdg/jenkinsx-workshop-demos/edit/master/docs/devoxx/create-cluster.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="create-cluster">Create Cluster<a class="headerlink" href="#create-cluster" title="Permanent link">&para;</a></h1>
<h2 id="terraform">Terraform<a class="headerlink" href="#terraform" title="Permanent link">&para;</a></h2>
<h3 id="get-kubeconfig">Get Kubeconfig<a class="headerlink" href="#get-kubeconfig" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>gcloud container clusters get-credentials <span class="si">${</span><span class="nv">CLUSTER_NAME</span><span class="si">}</span> --region <span class="si">${</span><span class="nv">REGION</span><span class="si">}</span>
</pre></div>
</td></tr></table>

<h2 id="jx-boot">JX Boot<a class="headerlink" href="#jx-boot" title="Permanent link">&para;</a></h2>
<ul>
<li><code>kubectl create secret generic external-dns-gcp-sa --from-file=credentials.json</code></li>
<li>download jx<ul>
<li></li>
<li><code>brew install jx</code></li>
</ul>
</li>
<li>configure cloud dns<ul>
<li>see: <a href="https://joostvdg.github.io/jenkinsx/aks-boot-core/">https://joostvdg.github.io/jenkinsx/aks-boot-core/</a></li>
<li>change cloud dns' <code>values.tmpl.yaml</code> (gcp project)</li>
<li>change cert manager prod issues' <code>cert-manager-prod-issuer.yaml</code> (gcp project)</li>
</ul>
</li>
<li>run <code>cjx boot</code> to initialize</li>
<li>update <code>jx-requirements.yaml</code></li>
<li>run <code>cjx boot</code> again to start the rest</li>
</ul>
<h2 id="jx-boot-cjxd">JX Boot - CJXD<a class="headerlink" href="#jx-boot-cjxd" title="Permanent link">&para;</a></h2>
<ul>
<li>configure cloud dns<ul>
<li>create CloudDNS Zone -&gt; create a zone for each subdomain</li>
<li>"forward" domain to Zone's Domain Servers (NS entry, add the four servers)</li>
<li><code>kubectl create secret generic external-dns-gcp-sa --from-file=credentials.json</code></li>
</ul>
</li>
<li>download cjxd<ul>
<li><a href="https://docs.cloudbees.com/docs/cloudbees-jenkins-x-distribution/latest/install-guide/macos">https://docs.cloudbees.com/docs/cloudbees-jenkins-x-distribution/latest/install-guide/macos</a></li>
<li>name this <code>jx</code></li>
</ul>
</li>
<li>run <code>jx profile cloudbees</code></li>
<li>run <code>jx boot</code> to initialize</li>
<li>update <code>jx-requirements.yaml</code><ul>
<li>replace environments</li>
<li>replace ingress</li>
<li>replace cluster</li>
</ul>
</li>
<li>change google project for cloud dns config (different project)<ul>
<li>see: <a href="https://joostvdg.github.io/jenkinsx/aks-boot-core/">https://joostvdg.github.io/jenkinsx/aks-boot-core/</a></li>
<li>change cloud dns' <code>values.tmpl.yaml</code> (gcp project)</li>
<li>change cert manager prod issues' <code>cert-manager-prod-issuer.yaml</code> (gcp project)</li>
</ul>
</li>
<li>CJXD's <code>cloudbees-jenkins-x-boot-config</code> version is <code>1.0.14</code><ul>
<li><a href="https://github.com/cloudbees/cloudbees-jenkins-x-boot-config/releases/tag/v1.0.14">https://github.com/cloudbees/cloudbees-jenkins-x-boot-config/releases/tag/v1.0.14</a></li>
</ul>
</li>
<li>run <code>jx boot</code> again to start the rest</li>
<li>do not upgrade<ul>
<li>seems to crash immediatly</li>
</ul>
</li>
<li>create storage buckets<ul>
<li>log</li>
<li>report</li>
<li>chart repo</li>
</ul>
</li>
<li>confirm it is correct: <code>jx status</code></li>
</ul>
<h3 id="clone-faillure">Clone Faillure<a class="headerlink" href="#clone-faillure" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>? Do you want to clone the Jenkins X Boot Git repository? Yes

Cloning https://github.com/cloudbees/cloudbees-jenkins-x-boot-config.git @ 1.0.36 to cloudbees-jenkins-x-boot-config
error: setting HEAD to origin/1.0.36: git output: fatal: ambiguous argument &#39;origin/1.0.36&#39;: unknown revision or path not in the working tree.
Use &#39;--&#39; to separate paths from revisions, like this:
&#39;git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]&#39;: failed to run &#39;git reset --hard origin/1.0.36&#39; command in directory &#39;cloudbees-jenkins-x-boot-config&#39;, output: &#39;fatal: ambiguous argument &#39;origin/1.0.36&#39;: unknown revision or path not in the working tree.
Use &#39;--&#39; to separate paths from revisions, like this:
&#39;git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]&#39;&#39;
</pre></div>
</td></tr></table>

<h3 id="helm-apply-issue">Helm Apply Issue<a class="headerlink" href="#helm-apply-issue" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Modified file /Users/joostvdg/Projects/Personal/Github/vasimos/jx/cjxd/gke/jxboot/cloudbees-jenkins-x-boot-config/env/Chart.yaml to set the chart to version 1
Ignoring templates/.gitignore
Applying the kubernetes overrides at ../kubeProviders/gke/values.tmpl.yaml
Verifying the helm requirements versions in dir: . using version stream URL: https://github.com/cloudbees/cloudbees-jenkins-x-versions.git and git ref: v0.0.15
error: failed to lint the chart &#39;/var/folders/f_/mpwdv8s16r7_zt43r3r7k20w0000gn/T/jx-helm-apply-578543501/env&#39;: failed to run &#39;helm lint&#39; command in directory &#39;/var/folders/f_/mpwdv8s16r7_zt43r3r7k20w0000gn/T/jx-helm-apply-578543501/env&#39;, output: &#39;==&gt; Linting .
[ERROR] Chart.yaml: apiVersion is required
</pre></div>
</td></tr></table>

<h2 id="tls-clouddns">TLS - CloudDNS<a class="headerlink" href="#tls-clouddns" title="Permanent link">&para;</a></h2>
<p>For each environment we have to setup the issuer and certificate.</p>
<p>Easiest way I found, was to copy the yaml from the issuer and certificate in the jx namespace. You then remove the unnecesary elements, those generated by Kubernetes itself (such as creation date, status, etc).</p>
<p>You have to change the domain name and hosts values, as they should now point to the subdomain corresponding to this environment (unless its production). Once the files are good, you add them to your environment. You do so, by adding them to the templates folder -&gt; env/templates.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl -n jx get issuer letsencrypt-prod -o yaml
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl -n jx get certificate tls-&lt;unique to your cluster&gt;-p -o yaml
</pre></div>
</td></tr></table>

<h3 id="add-support-for-multiple-subdomains">Add Support For Multiple Subdomains<a class="headerlink" href="#add-support-for-multiple-subdomains" title="Permanent link">&para;</a></h3>
<p>If you want to support multiple subdomains, such as <code>dev.cjxd.example.com</code> and <code>staging.cjxd.example.com</code> you need multiple entries in the external dns controller for the domain.</p>
<h2 id="imagepullbackup">ImagePullBackup<a class="headerlink" href="#imagepullbackup" title="Permanent link">&para;</a></h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>events:
  Type     Reason     Age                   From                                         Message
  ----     ------     ----                  ----                                         -------
  Normal   Scheduled  18m                   default-scheduler                            Successfully assigned jx-staging/jx-jx-qs-spring-boot-6-58b75446b4-pkd7x to gke-joost-cjxd-pool2-54e21b2f-hlhd
  Normal   Pulling    16m (x4 over 18m)     kubelet, gke-joost-cjxd-pool2-54e21b2f-hlhd  Pulling image &quot;gcr.io/ps-dev-201405/jx-qs-spring-boot-6:0.0.1&quot;
  Warning  Failed     16m (x4 over 18m)     kubelet, gke-joost-cjxd-pool2-54e21b2f-hlhd  Failed to pull image &quot;gcr.io/ps-dev-201405/jx-qs-spring-boot-6:0.0.1&quot;: rpc error: code = Unknown desc = Error response from daemon: unauthorized: You don&#39;t have the needed permissions to perform this operation, and you may have invalid credentials. To authenticate your request, follow the steps in: https://cloud.google.com/container-registry/docs/advanced-authentication
  Warning  Failed     16m (x4 over 18m)     kubelet, gke-joost-cjxd-pool2-54e21b2f-hlhd  Error: ErrImagePull
  Normal   BackOff    8m24s (x42 over 18m)  kubelet, gke-joost-cjxd-pool2-54e21b2f-hlhd  Back-off pulling image &quot;gcr.io/ps-dev-201405/jx-qs-spring-boot-6:0.0.1&quot;
  Warning  Failed     3m18s (x64 over 18m)  kubelet, gke-joost-cjxd-pool2-54e21b2f-hlhd  Error: ImagePullBackOff
</pre></div>
</td></tr></table>

<p>Then you're missing scopes in your GKE Node's.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">resource</span> <span class="s">&quot;google_container_node_pool&quot; &quot;nodepool2&quot;</span> <span class=" -Punctuation">{</span>
  <span class="p">...</span> 
  <span class="err">node_config</span> <span class=" -Punctuation">{</span>
<span class="na">    machine_type</span> <span class="o">=</span> <span class="s2">&quot;n2-standard-2&quot;</span>
<span class="na">    oauth_scopes</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s2">&quot;https://www.googleapis.com/auth/compute&quot;</span><span class="p">,</span>
      <span class="s2">&quot;https://www.googleapis.com/auth/devstorage.read_only&quot;</span><span class="p">,</span>
      <span class="s2">&quot;https://www.googleapis.com/auth/logging.write&quot;</span><span class="p">,</span>
      <span class="s2">&quot;https://www.googleapis.com/auth/monitoring&quot;</span><span class="p">,</span>
    <span class="p">]</span>
  <span class=" -Punctuation">}</span>
  <span class="p">...</span>
<span class=" -Punctuation">}</span>
</pre></div>
</td></tr></table>

<h2 id="add-cjxd-ui">Add CJXD UI<a class="headerlink" href="#add-cjxd-ui" title="Permanent link">&para;</a></h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>jx add app jx-app-ui --version=0.1.2
</pre></div>
</td></tr></table>

<p>This will make a PR, which, when merged launches a Master Promotion build.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>jx get activities --watch --filter environment-joost-cjxd-dev
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>jx get build log
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>jx ui -p 8081
</pre></div>
</td></tr></table>

<h3 id="unable-to-enable-dns-api">Unable To Enable DNS API<a class="headerlink" href="#unable-to-enable-dns-api" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>valid: there is a Secret: external-dns-gcp-sa in namespace: jx
error: unable to enable &#39;dns&#39; api: failed to run &#39;gcloud services list --enabled --project XXXXXX&#39; command in directory &#39;&#39;, output: &#39;ERROR: (gcloud.services.list) User [XXXXXX857-compute@developer.gserviceaccount.com] does not have permission to access project [XXXXXX] (or it may not exist): Request had insufficient authentication scopes.&#39;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>valid: there is a Secret: external-dns-gcp-sa in namespace: jx
error: unable to enable &#39;dns&#39; api: failed to run &#39;gcloud services list --enabled --project GCP PROJECT B&#39; command in directory &#39;&#39;, output: &#39;ERROR: (gcloud.services.list) User [389413650857-compute@developer.gserviceaccount.com] does not have permission to access project [GCP PROJECT B] (or it may not exist): Request had insufficient authentication scopes.&#39;

Pipeline failed on stage &#39;release&#39; : container &#39;step-create-install-values&#39;. The execution of the pipeline has stopped.
</pre></div>
</td></tr></table>

<ul>
<li>Have to enable "Service Usage API": <a href="https://console.developers.google.com/apis/api/serviceusage.googleapis.com/overview?project=">https://console.developers.google.com/apis/api/serviceusage.googleapis.com/overview?project=</a><PROJECTID></li>
<li>node pools (for example in terraform) need access to the security scope <code>https://www.googleapis.com/auth/cloud-platform</code></li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="na">oauth_scopes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;https://www.googleapis.com/auth/cloud-platform&quot;</span>
<span class="p">]</span>
</pre></div>
</td></tr></table>

<h2 id="reset-installation">Reset Installation<a class="headerlink" href="#reset-installation" title="Permanent link">&para;</a></h2>
<h3 id="remove-environment-repos">Remove Environment Repos<a class="headerlink" href="#remove-environment-repos" title="Permanent link">&para;</a></h3>
<ul>
<li>go to git and remove environment repo</li>
<li>clear jx boot config folder</li>
<li>clear cloud dns config (if used)</li>
<li>clear requirements from env repo's if re-used</li>
</ul>
<h3 id="clean-gcp-resources">Clean GCP Resources<a class="headerlink" href="#clean-gcp-resources" title="Permanent link">&para;</a></h3>
<h4 id="disks">Disks<a class="headerlink" href="#disks" title="Permanent link">&para;</a></h4>
<h4 id="buckets">Buckets<a class="headerlink" href="#buckets" title="Permanent link">&para;</a></h4>
<h4 id="others">Others?<a class="headerlink" href="#others" title="Permanent link">&para;</a></h4>
<h3 id="clean-environment-information">Clean Environment Information<a class="headerlink" href="#clean-environment-information" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>./clear-clusters.sh
</pre></div>
</td></tr></table>

<h3 id="clear-local-data">Clear Local Data<a class="headerlink" href="#clear-local-data" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>rm -rf ~/.jx/
</pre></div>
</td></tr></table>

<h2 id="recreate-git-token">Recreate Git Token<a class="headerlink" href="#recreate-git-token" title="Permanent link">&para;</a></h2>
<p>If for some reason the git token is invalid, you <a href="https://jenkins-x.io/docs/managing-jx/faq/issues/#invalid-git-token-to-scan-a-project">can recreate it with the commands below</a>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>jx delete git token -n github &lt;yourUserName&gt;
jx create git token -n github &lt;yourUserName&gt;
</pre></div>
</td></tr></table>

<h2 id="debug">Debug<a class="headerlink" href="#debug" title="Permanent link">&para;</a></h2>
<h3 id="tls-configuration">TLS Configuration<a class="headerlink" href="#tls-configuration" title="Permanent link">&para;</a></h3>
<h4 id="cert-manager">Cert Manager<a class="headerlink" href="#cert-manager" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get pods -n cert-manager
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl logs -f -n cert-manager cm-cert-manager-885695c9f-bxhvk
</pre></div>
</td></tr></table>

<h4 id="external-dns-controller">External DNS Controller<a class="headerlink" href="#external-dns-controller" title="Permanent link">&para;</a></h4>
<p><code>kubectl logs -f exdns-external-dns-56948bff8-fq692</code></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get ingress -A
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>NAMESPACE   NAME                  HOSTS                       ADDRESS         PORTS     AGE
jx          jx-vault-joost-cjxd   vault.dev.cjxd.kearos.net   35.204.54.193   80, 443   5m46s
</pre></div>
</td></tr></table>

<p>The address from the ingress resource should match the address returned from the <code>nslookup</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>nslookup vault.dev.cjxd.kearos.net
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Server:     192.168.178.1
Address:    192.168.178.1#53

Non-authoritative answer:
Name:   vault.dev.cjxd.kearos.net
Address: 35.204.54.193
</pre></div>
</td></tr></table>

<h4 id="certificate-resources">Certificate Resources<a class="headerlink" href="#certificate-resources" title="Permanent link">&para;</a></h4>
<ul>
<li>certificate issuer<ul>
<li><code>kubectl get issuer -n jx</code></li>
</ul>
</li>
<li>certificate<ul>
<li><code>kubectl get cert -n jx</code></li>
</ul>
</li>
<li>certificate secret<ul>
<li><code>kubectl get secret</code></li>
</ul>
</li>
<li>cloud dns secret (<code>credentials.json</code>)</li>
</ul>
<p>If the certificate is correct, it looks like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>NAME                        READY   SECRET                      AGE
tls-dev-cjxd-kearos-net-p   True    tls-dev-cjxd-kearos-net-p   4m31s
</pre></div>
</td></tr></table>

<h2 id="create-new-environment">Create new Environment<a class="headerlink" href="#create-new-environment" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://jenkins-x.io/docs/managing-jx/faq/boot/#how-do-i-add-new-environments">https://jenkins-x.io/docs/managing-jx/faq/boot/#how-do-i-add-new-environments</a></li>
</ul>
<h3 id="create-cloudbees-environment">Create CloudBees Environment<a class="headerlink" href="#create-cloudbees-environment" title="Permanent link">&para;</a></h3>
<ul>
<li>copy existing resources into new (<code>env/templates/</code>)</li>
<li>update values to suit new environment</li>
<li>execute <code>jx boot</code></li>
<li>configure cloud dns</li>
<li>cloud dns zone</li>
<li>external dns secret</li>
<li>dns domain forward</li>
<li>add cert and issuer to env repo</li>
<li>configure secrets  </li>
<li>add requirements to repo</li>
<li>edit <code>exdns-external-dns</code> deployment</li>
<li><code>kubectl edit deployment -n jx exdns-external-dns</code></li>
</ul>
<h4 id="get-resources">Get Resources<a class="headerlink" href="#get-resources" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get env staging -oyaml &gt; env/templates/cb.yaml
kubectl get sr joostvdg-env-cjxd-staging -oyaml &gt; env/templates/cb-sr.yaml
</pre></div>
</td></tr></table>

<h4 id="configure-tls">Configure TLS<a class="headerlink" href="#configure-tls" title="Permanent link">&para;</a></h4>
<h5 id="create-cloud-dns-zone">Create Cloud DNS Zone<a class="headerlink" href="#create-cloud-dns-zone" title="Permanent link">&para;</a></h5>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ZONE_NAME=cb-cjxd-kearos-net
DESCRIPTION=&quot;joostvdg - cb env for cjxd&quot;
DNS_NAME=cb.cjxd.kearos.net
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>gcloud dns managed-zones create ${ZONE_NAME} --description=${DESCRIPTION} --dns-name=${DNS_NAME}
</pre></div>
</td></tr></table>

<h5 id="configure-certificate-issuer">Configure Certificate &amp; Issuer<a class="headerlink" href="#configure-certificate-issuer" title="Permanent link">&para;</a></h5>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get issuer -n jx letsencrypt-prod -oyaml &gt; env/templates/issuer.yaml
kubectl get cert -n jx tls-dev-cjxd-kearos-net-p -oyaml &gt; env/templates/certificate.yaml
</pre></div>
</td></tr></table>

<ul>
<li>Rename the namespace to your namespace</li>
<li>remove <code>status</code> segment</li>
<li>remove kubernetes managed fields (<code>uuid</code>, timestamps, etc)</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>git add env/
git commit -m &quot;add certs&quot;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>git push
jx get activities -w
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get namespace
</pre></div>
</td></tr></table>

<h5 id="configure-dns-secrets">Configure DNS Secrets<a class="headerlink" href="#configure-dns-secrets" title="Permanent link">&para;</a></h5>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get secret -n jx exdns-external-dns-token-cq5mv -oyaml &gt; exdns-external-dns-token-env-cb.yaml
kubectl get secret -n jx external-dns-gcp-sa -oyaml &gt; external-dns-gcp-sa-env-cb.yaml
</pre></div>
</td></tr></table>

<ul>
<li>Rename the namespace to your namespace</li>
<li>remove <code>status</code> segment</li>
<li>remove kubernetes managed fields (<code>uuid</code>, timestamps, etc)</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl apply -f exdns-external-dns-token-env-cb.yaml
kubectl apply -f external-dns-gcp-sa-env-cb.yaml
</pre></div>
</td></tr></table>

<h4 id="confirm-certificate-works">Confirm Certificate Works<a class="headerlink" href="#confirm-certificate-works" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>kubectl get cert -n cloudbees
</pre></div>
</td></tr></table>

<h4 id="add-cloudbees-core">Add CloudBees Core<a class="headerlink" href="#add-cloudbees-core" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://charts.cloudbees.com/public/cloudbees/api/charts">https://charts.cloudbees.com/public/cloudbees/api/charts</a></li>
</ul>
<p>env/requirements.yaml</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudbees-core</span>
  <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.6.0+4d2e34de1e86</span>
  <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://charts.cloudbees.com/public/cloudbees</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">core</span>
</pre></div>
</td></tr></table>

<p>env/values.yaml</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">core</span><span class="p">:</span>
  <span class="nt">OperationsCenter</span><span class="p">:</span>
    <span class="nt">HostName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">core.cb.cjxd.kearos.net</span>
    <span class="nt">Ingress</span><span class="p">:</span>
      <span class="nt">Annotations</span><span class="p">:</span>
        <span class="nt">kubernetes.io/ingress.class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">kubernetes.io/tls-acme</span><span class="p">:</span> <span class="s">&quot;true&quot;</span>
        <span class="nt">nginx.ingress.kubernetes.io/app-root</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://$best_http_host/cjoc/teams-check/</span>
        <span class="nt">nginx.ingress.kubernetes.io/proxy-body-size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50m</span>
        <span class="nt">nginx.ingress.kubernetes.io/proxy-request-buffering</span><span class="p">:</span> <span class="s">&quot;off&quot;</span>
        <span class="nt">nginx.ingress.kubernetes.io/ssl-redirect</span><span class="p">:</span> <span class="s">&quot;true&quot;</span>
      <span class="nt">tls</span><span class="p">:</span>
        <span class="nt">Enable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">Host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">core.cb.cjxd.kearos.net</span>
        <span class="nt">SecretName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tls-cb-cjxd-kearos-net-p</span>
    <span class="nt">ServiceType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
  <span class="nt">nginx-ingress</span><span class="p">:</span>
    <span class="nt">Enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table>

<h4 id="cb-env">cb env<a class="headerlink" href="#cb-env" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>
</pre></div>
</td></tr></table>

<h4 id="cb-source-repository">cb source repository<a class="headerlink" href="#cb-source-repository" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>
</pre></div>
</td></tr></table>

<h4 id="jx-requirements">jx-requirements<a class="headerlink" href="#jx-requirements" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">ingress</span><span class="p">:</span>
    <span class="nt">domain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cb.cjxd.kearos.net</span>
    <span class="nt">externalDNS</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">namespaceSubDomain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.</span>
    <span class="nt">tls</span><span class="p">:</span>
      <span class="nt">email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">joostvdg@gmail.com</span>
      <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">production</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cb</span>
  <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">env-cjxd-cb</span>
</pre></div>
</td></tr></table>

<h2 id="tls-unique-dns">TLS Unique DNS<a class="headerlink" href="#tls-unique-dns" title="Permanent link">&para;</a></h2>
<p>If you want to make sure each environment has its own unique address, the external dns controller needs to filter on multiple domains.</p>
<p>Luckily, it is able to do so.</p>
<p>Unfortunately, it seems Jenkins X (with <code>jx boot</code>) doesn't seem to do this out of the box.</p>
<ul>
<li><a href="https://github.com/kubernetes-incubator/external-dns/pull/252">https://github.com/kubernetes-incubator/external-dns/pull/252</a></li>
</ul>
<p>To do so, make sure each environment has its own domain, as shown in <code>jx-requirements</code>.</p>
<p>Then, edit the <code>exdns</code> deployment via <code>kubectl edit exdn...</code> and add an additional <code>- --domain-filter=</code> line at the args for each domain.</p>
<h3 id="jx-requirements_1">jx-requirements<a class="headerlink" href="#jx-requirements_1" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>- ingress:
    domain: staging.gke.kearos.net
    externalDNS: true
    namespaceSubDomain: &quot;&quot;
    tls:
      email: joostvdg@gmail.com
      enabled: true
      production: true
  key: staging
  repository: env-gke-staging
- ingress:
    domain: prod.gke.kearos.net
    externalDNS: true
    namespaceSubDomain: &quot;&quot;
    tls:
      email: joostvdg@gmail.com
      enabled: true
      production: true
  key: production
  repository: env-gke-production
gitops: true
ingress:
  cloud_dns_secret_name: external-dns-gcp-sa
  domain: jx.gke.kearos.net
  externalDNS: true
  namespaceSubDomain: -jx.
  tls:
    email: joostvdg@gmail.com
    enabled: true
    production: true
- ingress:
    domain: staging.gke.kearos.net
    externalDNS: true
    namespaceSubDomain: &quot;&quot;
    tls:
      email: joostvdg@gmail.com
      enabled: true
      production: true
  key: staging
  repository: env-gke-staging
- ingress:
    domain: prod.gke.kearos.net
    externalDNS: true
    namespaceSubDomain: &quot;&quot;
    tls:
      email: joostvdg@gmail.com
      enabled: true
      production: true
  key: production
  repository: env-gke-production
gitops: true
ingress:
  cloud_dns_secret_name: external-dns-gcp-sa
  domain: jx.gke.kearos.net
  externalDNS: true
  namespaceSubDomain: -jx.
  tls:
    email: joostvdg@gmail.com
    enabled: true
    production: true
</pre></div>
</td></tr></table>

<h3 id="exdns-deployment-config">exdns deployment config<a class="headerlink" href="#exdns-deployment-config" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    - args:
    - --log-level=info
    - --domain-filter=jx.gke.kearos.net
    - --domain-filter=staging.gke.kearos.net
    - --policy=upsert-only
    - --provider=google
    - --registry=txt
    - --interval=1m
    - --source=ingress
    - --google-project=kearos-gcp
</pre></div>
</td></tr></table>

<h3 id="certmanager-complaining-about-the-wrong-domain">Certmanager complaining about the wrong domain<a class="headerlink" href="#certmanager-complaining-about-the-wrong-domain" title="Permanent link">&para;</a></h3>
<p>In case Cert-Manager is complaining that while validating <code>x.y.example.com</code> it cannot find <code>example.com</code>.</p>
<p>See: <a href="https://github.com/jetstack/cert-manager/issues/1507">https://github.com/jetstack/cert-manager/issues/1507</a></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>I1104 09:13:33.884549       1 base_controller.go:187] cert-manager/controller/challenges &quot;level&quot;=0 &quot;msg&quot;=&quot;syncing item&quot; &quot;key&quot;=&quot;cloudbees/tls-cb-cjxd-kearos-net-p-2383487961-0&quot;
I1104 09:13:33.884966       1 dns.go:104] cert-manager/controller/challenges/Present &quot;level&quot;=0 &quot;msg&quot;=&quot;presenting DNS01 challenge for domain&quot; &quot;dnsName&quot;=&quot;cloudbees.cjxd.kearos.net&quot; &quot;domain&quot;=&quot;cloudbees.cjxd.kearos.net&quot; &quot;resource_kind&quot;=&quot;Challenge&quot; &quot;resource_name&quot;=&quot;tls-cb-cjxd-kearos-net-p-2383487961-0&quot; &quot;resource_namespace&quot;=&quot;cloudbees&quot; &quot;type&quot;=&quot;dns-01&quot;
E1104 09:13:34.141122       1 base_controller.go:189] cert-manager/controller/challenges &quot;msg&quot;=&quot;re-queuing item  due to error processing&quot; &quot;error&quot;=&quot;No matching GoogleCloud domain found for domain kearos.net.&quot; &quot;key&quot;=&quot;cloudbees/tls-cb-cjxd-kearos-net-p-2383487961-0&quot;
</pre></div>
</td></tr></table>

<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://jenkins-x.io/docs/managing-jx/faq/">Jenkins X - Managing FAQ</a></li>
<li><a href="https://jenkins-x.io/docs/using-jx/faq/">Jenkins X - Using FAQ</a></li>
<li><a href="https://jenkins-x.io/docs/using-jx/faq/pipelines/#how-do-i-override-a-step">Jenkins X - Pipeline FAQ</a></li>
<li><a href="https://jenkins-x.io/docs/managing-jx/faq/boot/">Jenkins X - Boot FAQ</a></li>
<li><a href="https://jenkins-x.io/docs/reference/components/vault/#configuring-google-cloud-dns">Jenkins X - Configure CloudDNS</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../serverless/" title="Intro" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Intro
              </span>
            </div>
          </a>
        
        
          <a href="../quickstart/" title="Quickstart" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Quickstart
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Joost van der Griendt
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/joostvdg" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/joost_vdg" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/joostvdg" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>